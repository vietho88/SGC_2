{% load static %}
{% load crispy_forms_tags %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="SHORTCUT ICON" type="image/x-icon" href="{% static 'public/images/favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/DataTables/css/dataTables.bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/selectpicker/css/bootstrap-select.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/fontawesome/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'public/css/admin.css' %}?v={% now 'd/m/y/h/m/s' %}">
    <title>Document</title>
    {% block add_css %}
    {% endblock %}
    <style>
        .roud-waiting-load-page{
            z-index : 1;
            position: fixed;
            {#top: 0;#}
            {#left: 0;#}
            background: #f6f9ea;
            opacity: 0.2;
            height: 1000px;
            width: 100%;
        }
        .waiting-load-page{
            z-index: 1;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-right: -50%;
            transform: translate(-50%, -50%);

        }

        .waiting-load-page .container {
          height: inherit;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-wrap: wrap;
        }

        .spinner {
          display: inline-block;
        }
        .spinner:after {
          content: " ";
          display: block;
          width: 80px;
          height: 80px;
          border-radius: 50%;
          border: 10px solid;
          border-color: transparent #15a78a transparent;
          animation: loading 1s linear infinite;
        }

        @keyframes loading {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }
    </style>
</head>
<body>
<div class="roud-waiting-load-page">
</div>

<div class="waiting-load-page">
    <div class="container">
        <div class="spinner">

        </div>
    </div>
</div>

<div class="content ">
    <header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark navbar-right">
        {% comment %} <a class="navbar-brand" href="{% url 'home' %}"><img src="{% static 'public/images/logo2.png' %}" style="max-height:40px;width:50px"></a> {% endcomment %}
        <a class="navbar-brand" href="{% url 'home_bill' %}">SAIGON CO.OP</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="#">{% block name_cus %} {% endblock %}  <span class="sr-only">(current)</span></a>
            </li>
        </ul>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
{#            <ul class="navbar-nav mr-auto">#}
{#                <li class="nav-item active">#}
{#                    <a class="nav-link" href="#">Hóa Đơn <span class="sr-only">(current)</span></a>#}
{#                </li>#}
{#                <li class="nav-item ">#}
{#                    <a class="nav-link" href="#">Bảng Kê <span class="sr-only">(current)</span></a>#}
{#                </li>#}
{#                <li class="nav-item ">#}
{#                    <a class="nav-link" href="#">Thống kê <span class="sr-only">(current)</span></a>#}
{#                </li>#}
{#            </ul>#}
            <ul class="navbar-nav ml-auto">

            </ul>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item ">
                    <a class="nav-link active" href="#"> Vai trò: ADMIN</a>
                </li>
                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle text-white" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="far fa-user"></i> {{ request.user.username }}
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
{#                        <a class="dropdown-item" href="#"><i class="far fa-user-circle"></i> Thông tin cá nhân</a>#}
                        {% if request.user.is_superuser  %}
                            <a class="dropdown-item" href="{% url 'home_bill' %}"><i class="far fa-user-circle"></i> Đi tới trang chủ</a>
                        {% endif %}
{#                        <a class="dropdown-item" type="button" data-toggle="modal" data-target="#modal-change-pass"><i class="fas fa-key" ></i> Đổi mật khẩu</a>#}
                        <a class="dropdown-item btn-logout" type="button"><i class="fas fa-sign-out-alt"></i> Đăng xuất</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
</header>

<div class="">
    <div class="d-flex" id="wrapper">
        <!-- Sidebar -->
        <div class="bg-light border-right" id="sidebar-wrapper">
            <div class="sidebar-heading">ADMIN PAGE</div>
            <div class="list-group list-group-flush">
                {% block active_dashboard %}
                    <a href="{% url 'admin' %}" class="list-group-item list-group-item-action bg-light"> <i class="fas fa-tachometer-alt "></i> Tổng quan</a>
                {% endblock %}
                {% block active_site %}
                    <a href="{% url 'admin_site' %}" class="list-group-item list-group-item-action bg-light"><i class="fas fa-city    "></i> Quản lý mô hình</a>
                {% endblock %}

                {% block active_user %}
                    <a href="{% url 'admin_user' %}" class="list-group-item list-group-item-action bg-light"> <i class="fas fa-user-alt"></i> Quản lý
                        người dùng</a>
                {% endblock %}
                {% block active_branch %}
                    <a href="{% url 'admin_branch' %}" class="list-group-item list-group-item-action bg-light"><i class="fas fa-code-branch    "></i>  Quản lý
                        đơn vị</a>
                {% endblock %}
                {% block active_role %}
                    <a href="{% url 'admin_role' %}" class="list-group-item list-group-item-action bg-light"><i class="fas fa-user-tag    "></i> Quản lý vai trò </a>
                {% endblock %}
                {% block active_permission %}
                    <a href="{% url 'admin_permission' %}" class="list-group-item list-group-item-action bg-light"><i class="fas fa-user-astronaut    "></i> Quản lý phân quyền</a>
                {% endblock %}
                {% block active_type_product %}
                    <a href="{% url 'admin_type_product' %}" class="list-group-item list-group-item-action bg-light"><i class="fas fa-city    "></i> Quản lý các loại ngành hàng</a>
                {% endblock %}
                {% block active_edit%}
{#                    <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action bg-light dropdown-toggle">Quản lý tất cả các site</a>#}
{#                    <ul class="collapse list-unstyled" id="homeSubmenu">#}
{#                        <li>#}
{#                            <a href="#">Xem tất cả các site</a>#}
{#                        </li>#}
{#                        <li>#}
{#                            <a href="#">Thêm mô hình mới</a>#}
{#                        </li>#}
{#                        <li>#}
{#                            <a href="#">Sửa site</a>#}
{#                        </li>#}
{#                    </ul>#}
                {% endblock%}
            </div>
        </div>
        <div id="page-content-wrapper">
            <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
                <button class="btn btn-info" id="menu-toggle"><i class="fas fa-bars"></i></button>
                <div class="ml-auto">
                    {% block admin_function %}
                        <button class="btn btn-outline-info">Chức năng 1</button>
                        <button class="btn btn-outline-info">Chức năng 2</button>
                        <button class="btn btn-outline-info">Chức năng 3</button>
                        <button class="btn btn-outline-info">Chức năng 4</button>
                    {% endblock %}
                </div>
            </nav>
            <div class="container-fluid">
                {% block admin_content %}

                {% endblock %}
            </div>
        </div>
    </div>
</div>

</div>
    <script src="{% static 'vendor/jquery-3.5.1.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'vendor/DataTables/js/dataTables.bootstrap.js' %}"></script>
    <script src="{% static 'vendor/selectpicker/js/bootstrap-select.min.js' %}"></script>
    <script src="{% static 'vendor/fontawesome/js/all.min.js' %}"></script>
    <script src="{% static 'vendor/sweetalert2.all.min.js' %}"></script>
    <script src="{% static 'vendor/iviewer/jquery-ui.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>
    <script>
        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
        $(document).ready(function () {
            $('.waiting-load-page').fadeOut(500, function () {
                $('.roud-waiting-load-page').fadeOut()
            })

            $('.btn-logout').on('click', function(){
                Swal.fire({
                    title : 'Bạn có muốn đăng xuất ?',
                    icon : 'warning',
                    confirmButtonColor: '#17a2b8',
                    confirmButtonText: 'Có, tôi muốn',
                    cancelButtonText: 'Không',
                    cancelButtonColor: 'red',
                    showCancelButton: true,
                    }).then((result) => {
                    if (result.value) {
                        window.location.href = '/logout'
                    }
                })
            })


        })
        function alertSwalTopRight(icon, message) {
            swal.fire({
                position: 'top-end',
                icon: icon,
                title: message,
                showConfirmButton: false,
                timer: 1500,
                customClass: 'custom-sweetalert-right'
            });
        }
    </script>
    {% block add_js %}
    {% endblock %}
</body>
</html>